{% extends "_base.html" %}
{% load static %}

{% block style %}
<link rel="stylesheet" href={% static "dash/css/dashboard.css" %}>
<link rel="stylesheet" href={% static "dash/assets/css/apexcharts/apexcharts.css" %}>
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
{% endblock style %}

{% block content %}
<div id="main-content" class="h-full w-full bg-gray-100 relative overflow-y-auto lg:ml-64">
    <main>
        <div class="px-4 pt-6">
            <div class="grid grid-cols-12 gap-x-4">
            <!--Inicio Page Header-->
                <div class="col-span-full">
                    <div class="card bg-heading py-7 xl:mb-[107px]">
                        <div class="flex justify-between">
                            <div class="shrink-0">
                                <h1 class="text-white text-[25px] leading-none font-urbanist font-semibold flex-center">
                                    <span class="shrink-0 flex-center"><p class="" id="greetings"></p>, Investidor</span>
                                </h1>
                                <p class="font-poppins text-sm text-white mt-2">Excelentes operações e lucros consistentes sempre!</p>
                            </div>
                            <div class="shrink-0">
                                <p class="font-poppins text-sm !leading-none text-white" id="current-date"></p>
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4 px-0 mt-8 xl:mb-[-116px] font-urbanist">
                            <!--Saldo Total-->
                            <div class="card bg-white col-span-full xl:col-span-3 p-5 rounded-[20px] flex flex-col gap-8 bg-no-repeat bg-100% mb-0 ">
                                <div class="flex-center-between">
                                    <h6 class="leading-none text-gray-500 font-semibold">Saldo</h6>
                                    <div class="size-11 rounded-lg text-[#795ded] bg-[#f2ecfe] flex-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="20" viewBox="0 0 32 32">
                                            <g><path d="M28 8.129H5.28a2.28 2.28 0 0 1 0-4.56h16.4a1 1 0 0 0 0-2H5.28A4.285 4.285 0 0 0 1 5.848v19.21a5.379 5.379 0 0 0 5.373 5.373H26.72a4.285 4.285 0 0 0 4.28-4.28V11.128a3.003 3.003 0 0 0-3-3Zm1 13.43h-3.793a2.003 2.003 0 0 1-2-2V19a2.003 2.003 0 0 1 2-2H29ZM29 15h-3.793a4.004 4.004 0 0 0-4 4v.56a4.004 4.004 0 0 0 4 4H29v2.591a2.282 2.282 0 0 1-2.28 2.28H6.373A3.376 3.376 0 0 1 3 25.06V9.457a4.243 4.243 0 0 0 2.28.672H28a1 1 0 0 1 1 1Z" fill="currentColor"></path>
                                                <path d="M21.68 4.849H6.444a1 1 0 0 0 0 2H21.68a1 1 0 0 0 0-2Z" fill="currentColor"></path>
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                                <div class="mt-auto">
                                    <div class="card-title text-[32px]">
                                        R$ <span class="counter-value">1,547.25</span>
                                    </div>
                                    <div class="leading-none text-gray-500 mt-2">
                                        <span class="text-lg font-semibold text-[#795ded]">
                                            <i class="ri-arrow-up-line text-inherit font-normal"></i>
                                            2.09%
                                        </span>
                                        <span class="font-spline_sans text-gray-700">VS / semana passada</span>
                                    </div>
                                </div>
                            </div>
                            <!--Fator de Lucro-->
                            <div class="card bg-white col-span-full xl:col-span-3 p-5 rounded-[20px] flex flex-col gap-8 bg-no-repeat bg-100% mb-0 ">
                                <div class="flex-center-between">
                                    <h6 class="leading-none text-gray-500 font-semibold">Fator de Lucro Real/Expectativa</h6>
                                    <div class="size-11 rounded-lg text-[#795ded] bg-[#f2ecfe] flex-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="20px" viewBox="0 0 512 511">
                                            <g>
                                                <path d="M136.02 241.492c10.105 0 19.44-3.351 26.96-8.996l26.176 17.45-45.652 82.175a45.003 45.003 0 0 0-7.484-.637c-24.813 0-45 20.188-45 45s20.187 44.996 45 44.996c24.808 0 44.996-20.183 44.996-44.996 0-11.41-4.278-21.832-11.297-29.773l44.48-80.07 58.192 38.793a44.819 44.819 0 0 0-1.38 11.05c0 24.813 20.188 45 44.997 45 24.812 0 45-20.187 45-45 0-11.398-4.274-21.816-11.285-29.754l48.867-87.644 24.781 16.394a44.867 44.867 0 0 0-1.367 11.008c0 24.813 20.187 45 45 45 24.809 0 44.996-20.187 44.996-45s-20.188-44.996-44.996-44.996a44.744 44.744 0 0 0-27 9.024l-26.762-17.704 46.254-82.953c2.442.41 4.945.637 7.508.637 24.809 0 44.996-20.187 44.996-45C512 20.687 491.813.5 467.004.5c-24.813 0-45 20.187-45 44.996 0 11.402 4.27 21.82 11.285 29.758l-45.14 80.957-58.508-38.707a44.89 44.89 0 0 0 1.367-11.008c0-24.812-20.184-45-44.996-45s-45 20.188-45 45c0 11.406 4.277 21.832 11.3 29.774l-48.539 87.367-24.136-16.094a44.819 44.819 0 0 0 1.379-11.05c0-24.813-20.188-45-44.996-45-24.813 0-45 20.187-45 45 0 24.808 20.187 45 45 45zm0 149.992c-8.274 0-15-6.73-15-15s6.726-15 15-15c8.27 0 14.996 6.73 14.996 15s-6.727 15-14.996 15zm330.984-179.992c8.27 0 14.996 6.73 14.996 15s-6.727 15-14.996 15c-8.274 0-15-6.73-15-15s6.726-15 15-15zm0-180.992c8.27 0 14.996 6.73 14.996 15s-6.727 15-14.996 15c-8.274 0-15-6.73-15-15s6.726-15 15-15zM316.008 331.488c-8.27 0-14.996-6.73-14.996-15 0-8.273 6.726-15 14.996-15 8.273 0 15 6.727 15 15 0 8.27-6.727 15-15 15zM286.012 91.496c8.27 0 15 6.73 15 15 0 8.274-6.73 15-15 15-8.274 0-15-6.726-15-15 0-8.27 6.726-15 15-15zm-7.489 59.363a44.744 44.744 0 0 0 34.484-8.39l60.493 40.02-49.984 89.64a44.869 44.869 0 0 0-7.508-.64c-10.106 0-19.442 3.35-26.961 8.995l-60.23-40.152zM136.02 181.492c8.27 0 14.996 6.73 14.996 15s-6.727 15-14.996 15c-8.274 0-15-6.73-15-15s6.726-15 15-15zm0 0" fill="currentColor"></path>
                                                <path d="m464.309 418.375-21.211 21.215 11.894 11.89H61.02V50.707l13.132 10.504 18.739-23.422L45.895.504 0 37.914l19.047 23.172 11.976-9.84V481.48h422.204l-9.774 9.149 20.5 21.848L512 466.836zm0 0" fill="currentColor"></path>
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                                <div class="mt-0">
                                    <div class="card-title text-[32px]">
                                        <span class="counter-value">1.78/1.93</span>
                                    </div>
                                </div>
                            </div>
                            <!--Ganhos do mês-->
                            <div class="card bg-white col-span-full xl:col-span-3 p-5 rounded-[20px] flex flex-col gap-8 bg-no-repeat bg-100% mb-0 ">
                                <div class="flex-center-between">
                                    <h6 class="leading-none text-gray-500 font-semibold">Ganhos do mês</h6>
                                    <div class="size-11 rounded-lg text-[#795ded] bg-[#f2ecfe] flex-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px">
                                            <path d="M192-192v-96l72-72v168h-72Zm126 0v-222l66-66 6 6v282h-72Zm126 0v-228l72 72v156h-72Zm126 0v-186l72-72v258h-72Zm126 0v-312l72-72v384h-72ZM192-378v-102l192-192 144 144 240-240v102L528-426 384-570 192-378Z" fill="currentColor"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="mt-auto">
                                    <div class="card-title text-[32px]">
                                        R$ <span class="counter-value">327,40</span>
                                    </div>
                                    <div class="leading-none text-gray-500 mt-2">
                                        <span class="text-lg font-semibold text-[#795ded]">
                                            <i class="ri-arrow-up-line text-inherit font-normal"></i>
                                            26.6%
                                        </span>
                                        <span class="font-spline_sans text-gray-700">VS / mês passado</span>
                                    </div>
                                </div>
                            </div>
                            <!--% de acerto-->
                            <div class="card bg-white col-span-full xl:col-span-3 p-5 rounded-[20px] flex flex-col gap-8 bg-no-repeat bg-100% mb-0 ">
                                <div class="flex-center-between">
                                    <h6 class="leading-none text-gray-500 font-semibold">% de acerto</h6>
                                    <div class="size-11 rounded-lg text-[#795ded] bg-[#f2ecfe] flex-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px">
                                            <path d="M216-144q-29 0-50.5-21.5T144-216v-528q0-29.7 21.5-50.85Q187-816 216-816h528q29.7 0 50.85 21.15Q816-773.7 816-744v528q0 29-21.15 50.5T744-144H216Zm0-155v83h528v-378L481-322 360-443 216-299Zm0-101 144-144 120 119 264-272v-47H216v344Zm0-148v-109 257-150 251-150 150-249Zm0 148v-344 344-150 150Zm0 101v-150 150-249 332-83Z" fill="currentColor"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="mt-0">
                                    <div class="card-title text-[32px]">
                                        <span class="counter-value">82.38</span>%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!--Fim Dashboard Header-->
        </div>
        <!--Começo Analise-->
        <!--Patrimônio overview-->
        <div class="grid grid-cols-12 gap-x-4">
            <div class="xl:col-span-8 col-span-12">
                <div class="box bg-white text-sm font-urbanist text-[#333335]"> 
                    <div class="box-header flex justify-between items-center">
                        <div class="box-title mb-0">
                            Patrimônio Overview
                        </div>
                        <div role="group" class="inline-flex rounded-md shadow-sm divide-x divide-gray-200">
                            <button type="button" class="px-4 py-2 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 rounded-l hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              1D
                            </button>
                            <button type="button" class="px-4 py-2 border-0 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              1S
                            </button>
                            <button type="button" class="px-4 py-2 border-0 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              1M
                            </button>
                            <button type="button" class="px-4 py-2 border-0 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              3M
                            </button>
                            <button type="button" class="px-4 py-2 border-0 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              6M
                            </button>
                            <button type="button" class="px-4 py-2 border-0 text-sm font-urbanist font-semibold text-[#795ded] bg-purple-200 rounded-r hover:bg-[#795ded] hover:text-white focus:bg-[#795ded] focus:text-white">
                              1A
                            </button>
                          </div>
                    </div>
                    <div class="box-body">
                        <div class="flex items-center justify-between gap-4 flex-wrap font-inter">
                            <div class="flex flex-wrap flex-grow gap-3 ms-0">
                                <div>
                                    <span class="block text-[#8c9097] mb-1">Retorno Total</span>
                                    <span class="block font-semibold">
                                        R$1,547.25
                                        <span class="text-success-500 ms-1 text-[0.75rem]">
                                            <i class="ri-arrow-up-s-line"></i>35.36%
                                        </span>
                                    </span>
                                </div>
                                <div>
                                    <span class="block text-[#8c9097] mb-1">Drawdown Máx.</span>
                                    <span class="block font-semibold">
                                        R$185.30
                                        <span class="text-danger-500 ms-1 text-[0.75rem]">
                                            <i class="ri-arrow-down-s-line"></i>18.53%
                                        </span>
                                    </span>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-3 text-end">
                                <div>
                                    <span class="block text-[#8c9097] mb-1">Variação Diária</span>
                                    <span class="block font-semibold">
                                        R$87.45
                                    </span>
                                </div>
                                <div>
                                    <span class="block text-[#8c9097] mb-1">Variação (%)</span>
                                    <span class="block font-semibold">
                                        <span class="text-success-500 ms-1">
                                            <i class="ri-arrow-up-s-line"></i>5.64%
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div id="totalInvestmentsStats" style="min-height: 335px"></div>
                    </div>
                </div>
            </div>
            <!--Fim Patrimônio overview-->
            <!--Inicio Melhores Ativos-->
            <div class="xl:col-span-4 col-span-12">
                <div class="box bg-white text-sm font-urbanist text-[#333335]">
                    <div class="box-header flex justify-between items-center">
                        <div class="box-title mb-0">Melhores Ativos</div>
                    </div>
                    <div class="box-body !p-0">

                    </div>
                </div>
            </div>
        <!--Fim Melhores Ativos-->
        </div>
    </main>
</div>

{% endblock content %}

{% block script %}
<script>
//header
    var myDate = new Date();
    var hrs = myDate.getHours();

    var greet;

    if (hrs < 12)
    greet = 'Bom Dia';
    else if (hrs >= 12 && hrs <= 17.59)
    greet = 'Boa Tarde';
    else if (hrs >= 18 && hrs <= 24)
    greet = 'Boa Noite';

    document.getElementById('greetings').innerHTML =greet;

    function formatDate() {
        const today = new Date();
    
        const weekdays = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];
        const months = ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"];
    
        const dayOfWeek = weekdays[today.getDay()];
        const day = today.getDate();
        const month = months[today.getMonth()];
        const year = today.getFullYear();
    
        return `${dayOfWeek}, ${day} ${month} ${year}`;
    }
    
    // Chamar a função e inserir a data no elemento HTML com o ID "current-date"
    document.getElementById("current-date").textContent = formatDate();
    

</script>

<script src="{% static 'dash/assets/js/apexcharts/apexcharts.min.js' %}"></script>
<script src="{% static 'dash/assets/js/apexcharts/apexcharts.js' %}"></script>
<script src="{% static 'dash/js/charts.js' %}"></script>
{% endblock script %}