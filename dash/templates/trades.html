{% extends "_base.html" %}
{% load static %}

{% block style %}
{% endblock style %}

{% block content %}
<div id="main-content" class="h-full w-full bg-gray-100 relative overflow-y-auto lg:ml-64">
    <main>
        <div class="pt-6 px-4">
            <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 ">
                <h3 class="text-xl font-semibold text-gray-900 mb-5">Registrar Novo Trade</h3>

                <form action="#" method="POST">
                    {% csrf_token %}
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                        <div>
                            <label for="conta" class="block mb-2 text-sm font-medium text-gray-900">Conta</label>
                            <select id="conta" name="conta" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5">
                                <option selected>Escolha uma conta</option>
                                <option value="CONTA1">Conta Principal</option>
                                <option value="CONTA2">Conta Secundária</option>
                                {# Adicione mais opções de conta conforme necessário #}
                            </select>
                        </div>

                        <div>
                            <label class="block mb-2 text-sm font-medium text-gray-900">Lado</label>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center">
                                    <input id="compra" type="radio" value="COMPRA" name="lado" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                    <label for="compra" class="ml-2 text-sm font-medium text-gray-900">Compra</label>
                                </div>
                                <div class="flex items-center">
                                    <input id="venda" type="radio" value="VENDA" name="lado" class="w-4 h-4 text-pink-600 bg-gray-100 border-gray-300 focus:ring-pink-500 focus:ring-2">
                                    <label for="venda" class="ml-2 text-sm font-medium text-gray-900">Venda</label>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label for="ativo" class="block mb-2 text-sm font-medium text-gray-900">Ativo</label>
                            <input type="text" name="ativo" id="ativo" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" placeholder="Ex: PETR4, WINDFUT" required>
                        </div>

                        <div>
                            <label for="quantidade" class="block mb-2 text-sm font-medium text-gray-900">Quantidade</label>
                            <input type="number" name="quantidade" id="quantidade" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" placeholder="Ex: 100" required>
                        </div>

                        <div>
                            <label for="data_trade" class="block mb-2 text-sm font-medium text-gray-900">Data</label>
                            <input type="date" name="data_trade" id="data_trade" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" required>
                        </div>

                        <div>
                            <label for="horario_trade" class="block mb-2 text-sm font-medium text-gray-900">Horário</label>
                            <input type="time" name="horario_trade" id="horario_trade" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" required>
                        </div>

                        <div>
                            <label for="preco" class="block mb-2 text-sm font-medium text-gray-900">Preço</label>
                            <input type="text" name="preco" id="preco" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" placeholder="Ex: 25,50" required>
                            {# Considere usar um input type="number" com step="0.01" para valores monetários #}
                        </div>

                        <div>
                            <label for="corretagem" class="block mb-2 text-sm font-medium text-gray-900">Corretagem</label>
                            <input type="text" name="corretagem" id="corretagem" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" placeholder="Ex: 4,90">
                             {# Considere usar um input type="number" com step="0.01" para valores monetários #}
                        </div>

                        <div class="md:col-span-2">
                            <label for="anotacoes" class="block mb-2 text-sm font-medium text-gray-900">Anotações</label>
                            <textarea id="anotacoes" name="anotacoes" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-cyan-600 focus:border-cyan-600" placeholder="Detalhes sobre a operação, estratégia utilizada..."></textarea>
                        </div>

                        <div class="md:col-span-2">
                            <label for="tags" class="block mb-2 text-sm font-medium text-gray-900">Tags</label>
                            <input type="text" name="tags" id="tags" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5" placeholder="Ex: Day Trade, Swing Trade, Petrobras, Setup X">
                            <p class="mt-1 text-xs text-gray-500">Separe as tags por vírgula.</p>
                        </div>

                    </div>

                    <div class="mt-6">
                        <button type="submit" class="text-white bg-gradient-to-br from-pink-500 to-violet-500 hover:scale-[1.02] focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center shadow-md shadow-gray-300 transition-transform">
                            Salvar Trade
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>
</div>
{% endblock content %}

{% block script %}
    {# Você pode adicionar scripts específicos para esta página aqui, se necessário #}
    <script>
        // Pequeno script para garantir que a data não seja no futuro, se desejar.
        const dateInput = document.getElementById('data_trade');
        if (dateInput) {
            dateInput.max = new Date().toISOString().split("T")[0];
        }
    </script>
{% endblock script %}